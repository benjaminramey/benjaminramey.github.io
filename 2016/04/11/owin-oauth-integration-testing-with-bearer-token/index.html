<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/37b3f20555b3dcfb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/37b3f20555b3dcfb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-4011ba79f13e7457.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ce8c41266b210471.js" defer=""></script><script src="/_next/static/chunks/61-425b38ade8d8eadf.js" defer=""></script><script src="/_next/static/chunks/388-1e496dfd41235e8f.js" defer=""></script><script src="/_next/static/chunks/314-535fae6e035750df.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...slug%5D-f75c9ae4d92bd42c.js" defer=""></script><script src="/_next/static/Bh6w7JJxRoxFjNkuZN4A8/_buildManifest.js" defer=""></script><script src="/_next/static/Bh6w7JJxRoxFjNkuZN4A8/_ssgManifest.js" defer=""></script><script src="/_next/static/Bh6w7JJxRoxFjNkuZN4A8/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><header><div class="container"><div class="d-flex justify-content-between align-item-center"><a class="d-flex justify-content-start align-items-center mr-2" href="/"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="Gravatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Gravatar" src="https://en.gravatar.com/userimage/738990/32d8e61848233a67f5e02dcc43be0ff8.jpeg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span><span class="ml-2">Ben Ramey&#x27;s Blog</span></a><div class="d-none d-sm-flex flex-column justify-content-around ml-2"><small>Scripture, programming problems, solutions and stories.</small></div></div></div></header><nav class="main"><div class="container d-flex justify-content-center"><a href="/archive/">archive</a><a href="/tags/">tags</a><a href="/categories/">categories</a></div></nav><main><div class="container"><article class="post"><h1 class="post-title">OWIN Integration Testing with OAuth Bearer Tokens</h1><div class="post-info d-flex justify-content-start"><time dateTime="2016-04-11T06:00:00Z" class="post-date">Mon Apr 11th, 2016<!-- -->, <!-- -->almost 8 years<!-- --> ago</time><nav class="post-tags"><a href="/tags/owin/">#<!-- -->owin</a><a href="/tags/dotnet/">#<!-- -->dotnet</a></nav><nav class="post-categories"><span>posted in:</span><a href="/categories/programming/">programming</a></nav></div><div><h2>Situation</h2>
<p>The situation is pretty simple. We have a project written with Web API 2.2
that we have running with OWIN. The API requires user authorization. To
accomplish that, we use the OWIN OAuth libraries.</p>
<p>Upon until recently, the OAuth authorization server (the thing that takes in
the user credentials and issues the token) and the API (the resource server) were
hosted in the same site and web project.</p>
<p>Integration testing was pretty easy at this point. For the authorized calls,
we simply wrote helper methods that logged a test user in through the authorization
server (hosted along with the API in the OWIN test server), got a bearer token
and then made the integration test calls.</p>
<h2>Problem</h2>
<p>When we recently decided to split the authorization server and resource server
code up into two separate code bases (so that they could be hosted separately)
we ran into issues with the authorization and API calls no longer being possible within a
single integration test. The code to generate the bearer token was now no
longer accessible in the test server for the API integration tests because the authorization
server was now designed to be hosted separately. We'd have
to somehow generate the bearer token without making a call with the OWIN test
server.</p>
<h2>Solution</h2>
<p>The solution is to generate a valid bearer token in your test code and send it
along with your test API call as you would have previous. How to generate that
valid bearer token though?? It turns out to be easier than I thought.</p>
<p>How you use OWIN's test server is beyond the scope of this blog post, but
eventually you'll have some code resembling this:</p>
<p>var server = TestServer.Create<Startup>();</p>
<p>You'll have to use a overload of the <code>Create()</code> method to capture a reference
to the server's <code>IDataProtector</code>. This interface defines what OWIN OAuth will
use to encrypt a <code>ClaimsIdentity</code> into a valid bearer token.</p>
<p>Update your server creation code like this:</p>
<div class="remark-highlight"><pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> dataProtector<span class="token punctuation">;</span>
  <span class="token class-name"><span class="token keyword">var</span></span> server <span class="token operator">=</span> TestServer<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span>app <span class="token operator">=></span>
  <span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Startup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s<span class="token punctuation">.</span><span class="token function">Configuration</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>

    dataProtector <span class="token operator">=</span> app<span class="token punctuation">.</span><span class="token function">CreateDataProtector</span><span class="token punctuation">(</span>
      <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">OAuthBearerAuthenticationMiddleware</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Namespace<span class="token punctuation">,</span>
      <span class="token string">"Access_Token"</span><span class="token punctuation">,</span> <span class="token string">"v1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>You have to get the <code>dataProtector</code> this way because it's the same way that
the OWIN OAuth libraries get it before trying to decrypt the bearer token.
See the source for the OWIN OAuth code here:
<a href="http://katanaproject.codeplex.com/SourceControl/latest#src/Microsoft.Owin.Security.OAuth/OAuthBearerAuthenticationMiddleware.cs">OAuthBearerAuthenticationMiddleware.cs</a></p>
<p>Once you've "captured" the <code>dataProtector</code>, in your integration test (or in some
helper code, probably) you can generate your <code>ClaimsIdentity</code> and then your
bearer token with the <code>dataProtector</code>.</p>
<div class="remark-highlight"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// inside an integration test</span>
  <span class="token keyword">using</span> <span class="token punctuation">(</span>server<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// create your valid identity any way you need to here</span>
    <span class="token class-name">ClaimsIdentity</span> identity <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ClaimsIdentity</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">GenericIdentity</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// these classes are defined in the OWIN OAuth libraries.</span>
    <span class="token class-name"><span class="token keyword">var</span></span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> ticket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AuthenticationTicket</span><span class="token punctuation">(</span>identity<span class="token punctuation">,</span> properties<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">TicketDataFormat</span><span class="token punctuation">(</span>dataProtector<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">string</span></span> bearerToken <span class="token operator">=</span> format<span class="token punctuation">.</span><span class="token function">Protect</span><span class="token punctuation">(</span>ticket<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ... call your API through the test server with the bearer token...</span>
    <span class="token class-name"><span class="token keyword">var</span></span> response <span class="token operator">=</span> server<span class="token punctuation">.</span><span class="token function">CreateRequest</span><span class="token punctuation">(</span><span class="token string">"/api/someendpoint"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">AddHeader</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span> <span class="token string">"Bearer "</span> <span class="token operator">+</span> bearerToken<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">GetAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span>Result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre></div>
</div></article><section class="comments"><a id="comments-section"><h2>Comments</h2></a><div id="disqus_thread"></div></section></div></main><footer class="footer"><div class="container"><hr/><small>© <time dateTime="2024-03-07T00:02:11.321Z">2024</time>. All rights reserved.</small></div><script async="" defer="" data-website-id="b5832ded-a501-4aab-b4ce-ef0373a1a887" src="https://umami.benramey.com/umami.js"></script></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"tags":["owin","dotnet"],"categories":["programming"],"title":"OWIN Integration Testing with OAuth Bearer Tokens","contentHtml":"\u003ch2\u003eSituation\u003c/h2\u003e\n\u003cp\u003eThe situation is pretty simple. We have a project written with Web API 2.2\nthat we have running with OWIN. The API requires user authorization. To\naccomplish that, we use the OWIN OAuth libraries.\u003c/p\u003e\n\u003cp\u003eUpon until recently, the OAuth authorization server (the thing that takes in\nthe user credentials and issues the token) and the API (the resource server) were\nhosted in the same site and web project.\u003c/p\u003e\n\u003cp\u003eIntegration testing was pretty easy at this point. For the authorized calls,\nwe simply wrote helper methods that logged a test user in through the authorization\nserver (hosted along with the API in the OWIN test server), got a bearer token\nand then made the integration test calls.\u003c/p\u003e\n\u003ch2\u003eProblem\u003c/h2\u003e\n\u003cp\u003eWhen we recently decided to split the authorization server and resource server\ncode up into two separate code bases (so that they could be hosted separately)\nwe ran into issues with the authorization and API calls no longer being possible within a\nsingle integration test. The code to generate the bearer token was now no\nlonger accessible in the test server for the API integration tests because the authorization\nserver was now designed to be hosted separately. We'd have\nto somehow generate the bearer token without making a call with the OWIN test\nserver.\u003c/p\u003e\n\u003ch2\u003eSolution\u003c/h2\u003e\n\u003cp\u003eThe solution is to generate a valid bearer token in your test code and send it\nalong with your test API call as you would have previous. How to generate that\nvalid bearer token though?? It turns out to be easier than I thought.\u003c/p\u003e\n\u003cp\u003eHow you use OWIN's test server is beyond the scope of this blog post, but\neventually you'll have some code resembling this:\u003c/p\u003e\n\u003cp\u003evar server = TestServer.Create\u003cStartup\u003e();\u003c/p\u003e\n\u003cp\u003eYou'll have to use a overload of the \u003ccode\u003eCreate()\u003c/code\u003e method to capture a reference\nto the server's \u003ccode\u003eIDataProtector\u003c/code\u003e. This interface defines what OWIN OAuth will\nuse to encrypt a \u003ccode\u003eClaimsIdentity\u003c/code\u003e into a valid bearer token.\u003c/p\u003e\n\u003cp\u003eUpdate your server creation code like this:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-csharp\"\u003e\u003ccode class=\"language-csharp\"\u003e\u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e dataProtector\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e server \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e TestServer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eapp \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e s \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eStartup\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    s\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eConfiguration\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eapp\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    dataProtector \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e app\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCreateDataProtector\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n      \u003cspan class=\"token keyword\"\u003etypeof\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token type-expression class-name\"\u003eOAuthBearerAuthenticationMiddleware\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eNamespace\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n      \u003cspan class=\"token string\"\u003e\"Access_Token\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"v1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eYou have to get the \u003ccode\u003edataProtector\u003c/code\u003e this way because it's the same way that\nthe OWIN OAuth libraries get it before trying to decrypt the bearer token.\nSee the source for the OWIN OAuth code here:\n\u003ca href=\"http://katanaproject.codeplex.com/SourceControl/latest#src/Microsoft.Owin.Security.OAuth/OAuthBearerAuthenticationMiddleware.cs\"\u003eOAuthBearerAuthenticationMiddleware.cs\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eOnce you've \"captured\" the \u003ccode\u003edataProtector\u003c/code\u003e, in your integration test (or in some\nhelper code, probably) you can generate your \u003ccode\u003eClaimsIdentity\u003c/code\u003e and then your\nbearer token with the \u003ccode\u003edataProtector\u003c/code\u003e.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-csharp\"\u003e\u003ccode class=\"language-csharp\"\u003e\u003cspan class=\"token comment\"\u003e// inside an integration test\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eusing\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eserver\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// create your valid identity any way you need to here\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eClaimsIdentity\u003c/span\u003e identity \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eClaimsIdentity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eGenericIdentity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"username\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// these classes are defined in the OWIN OAuth libraries.\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e properties \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eAuthenticationProperties\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e ticket \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eAuthenticationTicket\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eidentity\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e properties\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e format \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eTicketDataFormat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edataProtector\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003estring\u003c/span\u003e\u003c/span\u003e bearerToken \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e format\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eProtect\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eticket\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// ... call your API through the test server with the bearer token...\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e response \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e server\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eCreateRequest\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/api/someendpoint\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eAddHeader\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Authorization\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"Bearer \"\u003c/span\u003e \u003cspan class=\"token operator\"\u003e+\u003c/span\u003e bearerToken\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eGetAsync\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eResult\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n  \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n","date":"2016-04-11T06:00:00Z","slug":"/2016/04/11/owin-oauth-integration-testing-with-bearer-token"},"__N_SSG":true},"page":"/[...slug]","query":{"slug":["2016","04","11","owin-oauth-integration-testing-with-bearer-token"]},"buildId":"Bh6w7JJxRoxFjNkuZN4A8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>