<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/37b3f20555b3dcfb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/37b3f20555b3dcfb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-e70c6273bfe3f237.js" defer=""></script><script src="/_next/static/chunks/main-4011ba79f13e7457.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ce8c41266b210471.js" defer=""></script><script src="/_next/static/chunks/61-425b38ade8d8eadf.js" defer=""></script><script src="/_next/static/chunks/388-1e496dfd41235e8f.js" defer=""></script><script src="/_next/static/chunks/314-535fae6e035750df.js" defer=""></script><script src="/_next/static/chunks/pages/index-1c54d6e3c9602061.js" defer=""></script><script src="/_next/static/xuf2RCZqWxolcRHzcCyLG/_buildManifest.js" defer=""></script><script src="/_next/static/xuf2RCZqWxolcRHzcCyLG/_ssgManifest.js" defer=""></script><script src="/_next/static/xuf2RCZqWxolcRHzcCyLG/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><div><header><div class="container"><div class="d-flex justify-content-between align-item-center"><a class="d-flex justify-content-start align-items-center mr-2" href="/"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2740%27%20height=%2740%27/%3e"/></span><img alt="Gravatar" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img alt="Gravatar" src="https://en.gravatar.com/userimage/738990/32d8e61848233a67f5e02dcc43be0ff8.jpeg" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></span><span class="ml-2">Ben Ramey&#x27;s Blog</span></a><div class="d-none d-sm-flex flex-column justify-content-around ml-2"><small>Scripture, programming problems, solutions and stories.</small></div></div></div></header><nav class="main"><div class="container d-flex justify-content-center"><a href="/archive/">archive</a><a href="/tags/">tags</a><a href="/categories/">categories</a></div></nav><main><div class="container"><article class="page"><h1 class="page-title"></h1><article class="post"><h1 class="post-title"><a href="/2022/02/10/enumerables-in-csharp/">Enumerables in C#</a></h1><div class="post-info d-flex justify-content-start"><time dateTime="2022-02-10T06:00:00Z" class="post-date">Thu Feb 10th, 2022<!-- -->, <!-- -->over 2 years<!-- --> ago</time><nav class="post-tags"><a href="/tags/csharp/">#<!-- -->csharp</a><a href="/tags/enumerables/">#<!-- -->enumerables</a></nav><nav class="post-categories"><span>posted in:</span><a href="/categories/programming/">programming</a></nav></div><div><p>Since starting my job in September 2020 at <a href="https://www.faithlife.com">Faithlife</a>, one of the most eye-opening realizations for me was how ignorant I was of
how, when and why to use the various C# enumerable types and interfaces. C# gives you many of them. It's probably no surprise that they each have a place in your code! It
probably should also be no surprise that misusing them can really put a dent in your code's efficiency.</p>
<p>I've learned a lot since then from the fantastic developers surrounding me at <a href="https://www.faithlife.com">Faithlife</a>. So, I wanted to start a blog series on the various
enumerable types and interfaces and give some guidance on when and how to use them well. I'm also starting this series to push my knowledge on the subject further. So,
please interact and comment with your own recommendations and corrections for me!</p>
<p>To start us off, here's an example of the type of thing I used to do quite often:</p>
<div class="remark-highlight"><pre class="language-csharp"><code class="language-csharp"><span class="token class-name">List<span class="token punctuation">&#x3C;</span>Driver<span class="token punctuation">></span></span> drivers <span class="token operator">=</span> <span class="token function">GetDriversFromDb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List<span class="token punctuation">&#x3C;</span>Car<span class="token punctuation">></span></span> cars <span class="token operator">=</span> <span class="token function">GetCarsFromDb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> garages <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&#x3C;</span>Garage<span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> driver <span class="token keyword">in</span> drivers<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cars<span class="token punctuation">.</span><span class="token function">Any</span><span class="token punctuation">(</span>c <span class="token operator">=></span> c<span class="token punctuation">.</span>OwnerId <span class="token operator">==</span> driver<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        garages<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Garage</span><span class="token punctuation">(</span>driver<span class="token punctuation">,</span> cars<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>c <span class="token operator">=></span> c<span class="token punctuation">.</span>OwnerId <span class="token operator">==</span> driver<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Doing things like this is not smart and it doesn't take advantage of the enumerables that C# gives you to handle scenarios like this (and many others)
<em>much</em> more efficiently.</p>
<p>I'm sure you can see why the above code is not great. But, if you're new to C# (or like me when I was writing stuff like that and just hadn't
put too much thought into using enumerable types well) then you should know that the problem with that code is that you loop through the entire <code>cars</code> list for every
iteration through the <code>drivers</code> <code>foreach</code> loop.</p>
<p>Is there a better way? There sure is! Keep tabs on this series as I go through C#'s enumerables and you'll soon know how to solve a simple problem (and many others!) like the one above
much more efficiently.</p>
<p>To view the entire series, you can use the tag <a href="https://www.benramey.com/tags/enumerables/">"enumerables"</a>.</p>
</div></article><section><a href="/2022/02/10/enumerables-in-csharp/#comments-section">See comments</a></section></article></div></main><footer class="footer"><div class="container"><hr/><small>Â© <time dateTime="2024-05-31T00:02:03.127Z">2024</time>. All rights reserved.</small></div><script async="" defer="" data-website-id="b5832ded-a501-4aab-b4ce-ef0373a1a887" src="https://umami.benramey.com/umami.js"></script></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"tags":["csharp","enumerables"],"categories":["programming"],"title":"Enumerables in C#","contentHtml":"\u003cp\u003eSince starting my job in September 2020 at \u003ca href=\"https://www.faithlife.com\"\u003eFaithlife\u003c/a\u003e, one of the most eye-opening realizations for me was how ignorant I was of\nhow, when and why to use the various C# enumerable types and interfaces. C# gives you many of them. It's probably no surprise that they each have a place in your code! It\nprobably should also be no surprise that misusing them can really put a dent in your code's efficiency.\u003c/p\u003e\n\u003cp\u003eI've learned a lot since then from the fantastic developers surrounding me at \u003ca href=\"https://www.faithlife.com\"\u003eFaithlife\u003c/a\u003e. So, I wanted to start a blog series on the various\nenumerable types and interfaces and give some guidance on when and how to use them well. I'm also starting this series to push my knowledge on the subject further. So,\nplease interact and comment with your own recommendations and corrections for me!\u003c/p\u003e\n\u003cp\u003eTo start us off, here's an example of the type of thing I used to do quite often:\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-csharp\"\u003e\u003ccode class=\"language-csharp\"\u003e\u003cspan class=\"token class-name\"\u003eList\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eDriver\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e drivers \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eGetDriversFromDb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token class-name\"\u003eList\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eCar\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e cars \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token function\"\u003eGetCarsFromDb\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e garages \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eList\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003eGarage\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eforeach\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003e\u003cspan class=\"token keyword\"\u003evar\u003c/span\u003e\u003c/span\u003e driver \u003cspan class=\"token keyword\"\u003ein\u003c/span\u003e drivers\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eif\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecars\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eAny\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ec \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eOwnerId \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e driver\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eId\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        garages\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eAdd\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"token constructor-invocation class-name\"\u003eGarage\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003edriver\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e cars\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eWhere\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ec \u003cspan class=\"token operator\"\u003e=\u003e\u003c/span\u003e c\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eOwnerId \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e driver\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eId\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eDoing things like this is not smart and it doesn't take advantage of the enumerables that C# gives you to handle scenarios like this (and many others)\n\u003cem\u003emuch\u003c/em\u003e more efficiently.\u003c/p\u003e\n\u003cp\u003eI'm sure you can see why the above code is not great. But, if you're new to C# (or like me when I was writing stuff like that and just hadn't\nput too much thought into using enumerable types well) then you should know that the problem with that code is that you loop through the entire \u003ccode\u003ecars\u003c/code\u003e list for every\niteration through the \u003ccode\u003edrivers\u003c/code\u003e \u003ccode\u003eforeach\u003c/code\u003e loop.\u003c/p\u003e\n\u003cp\u003eIs there a better way? There sure is! Keep tabs on this series as I go through C#'s enumerables and you'll soon know how to solve a simple problem (and many others!) like the one above\nmuch more efficiently.\u003c/p\u003e\n\u003cp\u003eTo view the entire series, you can use the tag \u003ca href=\"https://www.benramey.com/tags/enumerables/\"\u003e\"enumerables\"\u003c/a\u003e.\u003c/p\u003e\n","date":"2022-02-10T06:00:00Z","slug":"/2022/02/10/enumerables-in-csharp"},"__N_SSG":true},"page":"/","query":{},"buildId":"xuf2RCZqWxolcRHzcCyLG","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>